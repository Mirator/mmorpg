<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MMORPG MVP</title>
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div id="app"></div>
    <div id="menu" class="menu open" data-step="auth" data-tab="signin">
      <div class="menu-card menu-auth">
        <div class="menu-brand">MMORPG MVP</div>
        <div class="menu-subtitle">Sign in to continue your journey.</div>
        <div class="menu-tabs">
          <button class="menu-tab active" data-tab="signin">Sign In</button>
          <button class="menu-tab" data-tab="signup">Create Account</button>
        </div>
        <form id="signin-form" class="menu-form">
          <label class="menu-label" for="signin-username">Username</label>
          <input id="signin-username" name="username" type="text" autocomplete="username" required />
          <label class="menu-label" for="signin-password">Password</label>
          <input
            id="signin-password"
            name="password"
            type="password"
            autocomplete="current-password"
            required
          />
          <button type="submit" class="menu-primary">Sign In</button>
        </form>
        <form id="signup-form" class="menu-form hidden">
          <label class="menu-label" for="signup-username">Username</label>
          <input id="signup-username" name="username" type="text" autocomplete="username" required />
          <label class="menu-label" for="signup-password">Password</label>
          <input
            id="signup-password"
            name="password"
            type="password"
            autocomplete="new-password"
            required
          />
          <button type="submit" class="menu-primary">Create Account</button>
        </form>
        <div id="menu-auth-error" class="menu-error"></div>
      </div>
      <div class="menu-card menu-characters">
        <div class="menu-brand small">Welcome back</div>
        <div id="menu-account" class="menu-subtitle">Account: --</div>
        <div id="menu-last-character" class="menu-subtitle">Last played: --</div>
        <div class="menu-title">Choose Character</div>
        <div id="character-list" class="character-list"></div>
        <div class="menu-actions">
          <button id="character-create-open" class="menu-secondary">Create Character</button>
          <button id="menu-signout" class="menu-ghost">Sign Out</button>
        </div>
        <div id="menu-characters-error" class="menu-error"></div>
      </div>
      <div class="menu-card menu-create">
        <div class="menu-brand small">Create Character</div>
        <form id="character-create-form" class="menu-form">
          <label class="menu-label" for="character-name">Name</label>
          <input id="character-name" name="name" type="text" required />
          <label class="menu-label" for="character-class">Class</label>
          <select id="character-class" name="classId" required>
            <option value="guardian">Guardian (Tank)</option>
            <option value="fighter" selected>Fighter (Melee DPS)</option>
            <option value="ranger">Ranger (Ranged DPS)</option>
            <option value="priest">Priest (Healer)</option>
            <option value="mage">Mage (Magic DPS)</option>
          </select>
          <div class="menu-actions">
            <button type="button" id="character-create-cancel" class="menu-ghost">Back</button>
            <button type="submit" class="menu-primary">Create</button>
          </div>
        </form>
        <div id="menu-create-error" class="menu-error"></div>
      </div>
    </div>
    <div id="error-overlay" class="error-overlay" role="alert" aria-live="assertive">
      <div class="error-overlay-card">
        <div id="error-overlay-title" class="error-overlay-title"></div>
        <div id="error-overlay-message" class="error-overlay-message"></div>
        <div id="error-overlay-actions" class="error-overlay-actions"></div>
      </div>
    </div>
    <div id="loading-screen" class="loading-screen" aria-live="polite">
      <div class="loading-screen-content">
        <div class="loading-spinner"></div>
        <div id="loading-text" class="loading-text">Loading...</div>
      </div>
    </div>
    <div id="overlay">
      <div class="overlay-block">
        <div class="overlay-label">Character</div>
        <div id="overlay-character-name" class="overlay-name">--</div>
      </div>
      <div class="overlay-bar">
        <div class="overlay-bar-header">
          <span class="overlay-bar-label">HP</span>
          <span id="overlay-hp-value" class="overlay-bar-value">--</span>
        </div>
        <div class="overlay-bar-track">
          <div id="overlay-hp-fill" class="overlay-bar-fill"></div>
        </div>
      </div>
      <div class="overlay-bar">
        <div class="overlay-bar-header">
          <span id="overlay-resource-label" class="overlay-bar-label">Resource</span>
          <span id="overlay-stamina-value" class="overlay-bar-value">--</span>
        </div>
        <div class="overlay-bar-track muted">
          <div id="overlay-stamina-fill" class="overlay-bar-fill"></div>
        </div>
      </div>
      <div class="overlay-status">Status: <span id="status">connecting...</span></div>
      <div class="overlay-controls">
        WASD to move · Click to move · Click target/TAB to cycle enemies · E to interact · I for
        inventory · K for skills · 1-0 for abilities
      </div>
      <button id="signout-btn" class="overlay-btn">Sign out</button>
    </div>
    <div id="target-hud" class="target-hud">
      <div id="target-name" class="target-name">--</div>
      <div id="target-meta" class="target-meta">--</div>
      <div id="target-hp" class="target-hp">
        <div class="target-hp-bar">
          <div id="target-hp-fill" class="target-hp-fill"></div>
        </div>
        <div id="target-hp-value" class="target-hp-value">--</div>
      </div>
    </div>
    <div id="hud">
      <div>Level: <span id="hud-level">1</span></div>
      <div>HP: <span id="hud-hp">--</span></div>
      <div>Inv: <span id="hud-inv">0</span></div>
      <div>Coins: <span id="hud-coins">0g 0s 0c</span></div>
      <div>Respawn: <span id="hud-respawn">--</span></div>
      <div>FPS: <span id="fps">0</span></div>
      <div>X/Z: <span id="coords">0.0, 0.0</span></div>
    </div>
    <div id="skills-panel" class="skills-panel">
      <div class="skills-header">
        <div class="skills-title">Skills</div>
        <div class="skills-meta">
          <div>Class: <span id="skills-class">--</span></div>
          <div>Level: <span id="skills-level">1</span></div>
          <div>XP: <span id="skills-xp">0/0</span></div>
        </div>
      </div>
      <div id="skills-list" class="skills-list"></div>
      <div class="skills-hint">Press K to close</div>
    </div>
    <div id="inventory-panel">
      <div class="inventory-header">
        <div class="inventory-title">Inventory</div>
        <div class="inventory-meta">
          <div class="inventory-coins">Coins: <span id="inventory-coins">0g 0s 0c</span></div>
          <div class="inventory-hint">Drag to swap · I to close</div>
        </div>
      </div>
      <div class="equipment-section">
        <div class="equipment-title">Equipment</div>
        <div id="equipment-grid" class="equipment-grid"></div>
      </div>
      <div id="inventory-grid" class="inventory-grid"></div>
    </div>
    <div id="vendor-dialog" class="vendor-dialog">
      <div class="vendor-title" id="vendor-dialog-name">General Vendor</div>
      <div class="vendor-actions">
        <button id="vendor-trade-btn" class="vendor-btn">Trade</button>
        <button id="vendor-close-btn" class="vendor-btn ghost">Close</button>
      </div>
    </div>
    <div id="vendor-panel" class="vendor-panel">
      <div class="vendor-header">
        <div class="vendor-title" id="vendor-panel-name">General Vendor</div>
        <div class="vendor-tabs">
          <button class="vendor-tab active" data-tab="buy">Buy</button>
          <button class="vendor-tab" data-tab="sell">Sell</button>
        </div>
      </div>
      <div class="vendor-body">
        <div class="vendor-view vendor-buy active">
          <div class="vendor-empty">No items available.</div>
        </div>
        <div class="vendor-view vendor-sell">
          <div id="vendor-sell-prices" class="vendor-prices"></div>
          <div class="vendor-dropzone">Drop items here to sell.</div>
        </div>
      </div>
      <div class="vendor-footer">Drag items from your inventory to sell.</div>
      <button id="vendor-panel-close" class="vendor-btn ghost">Close</button>
    </div>
    <div id="prompt">Press E to harvest</div>
    <div id="event"></div>
    <div id="damage-flash"></div>
    <div id="death-screen" class="death-screen">
      <div class="death-card">
        <div class="death-title">You died</div>
        <div class="death-subtitle">Respawn at base</div>
        <div id="death-timer" class="death-timer">05:00</div>
        <button id="death-respawn-btn" class="menu-primary death-respawn-btn" type="button">
          Respawn at base
        </button>
      </div>
    </div>
    <div id="ability-bar" class="ability-bar"></div>
    <div id="xp-bar" class="xp-bar" role="progressbar" tabindex="0" aria-valuemin="0">
      <div id="xp-bar-fill" class="xp-bar-fill"></div>
      <div id="xp-bar-tooltip" class="xp-bar-tooltip" role="tooltip">
        <div id="xp-bar-value">--</div>
        <div id="xp-bar-remaining">--</div>
      </div>
    </div>
    <script type="module" src="./client.js"></script>
  </body>
</html>
