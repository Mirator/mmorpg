<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MMORPG MVP</title>
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div id="app"></div>
    <div id="menu" class="menu open" data-step="auth" data-tab="signin">
      <div class="menu-card menu-auth">
        <div class="menu-brand">MMORPG MVP</div>
        <div class="menu-subtitle">Sign in to continue your journey.</div>
        <div class="menu-tabs">
          <button class="menu-tab active" data-tab="signin">Sign In</button>
          <button class="menu-tab" data-tab="signup">Create Account</button>
        </div>
        <form id="signin-form" class="menu-form">
          <label class="menu-label" for="signin-username">Username</label>
          <input id="signin-username" name="username" type="text" autocomplete="username" required />
          <label class="menu-label" for="signin-password">Password</label>
          <input
            id="signin-password"
            name="password"
            type="password"
            autocomplete="current-password"
            required
          />
          <button type="submit" class="menu-primary">Sign In</button>
        </form>
        <form id="signup-form" class="menu-form hidden">
          <label class="menu-label" for="signup-username">Username</label>
          <input id="signup-username" name="username" type="text" autocomplete="username" required />
          <label class="menu-label" for="signup-password">Password</label>
          <input
            id="signup-password"
            name="password"
            type="password"
            autocomplete="new-password"
            required
          />
          <button type="submit" class="menu-primary">Create Account</button>
        </form>
        <div id="menu-auth-error" class="menu-error"></div>
      </div>
      <div class="menu-card menu-characters">
        <div class="menu-brand small">Welcome back</div>
        <div id="menu-account" class="menu-subtitle">Account: --</div>
        <div id="menu-last-character" class="menu-subtitle">Last played: --</div>
        <div class="menu-title">Choose Character</div>
        <div id="character-list" class="character-list"></div>
        <div class="menu-actions">
          <button id="character-create-open" class="menu-secondary">Create Character</button>
          <button id="menu-signout" class="menu-ghost">Sign Out</button>
        </div>
        <div id="menu-characters-error" class="menu-error"></div>
      </div>
      <div class="menu-card menu-create">
        <div class="menu-brand small">Create Character</div>
        <form id="character-create-form" class="menu-form">
          <label class="menu-label" for="character-name">Name</label>
          <input id="character-name" name="name" type="text" required />
          <label class="menu-label" for="character-class">Class</label>
          <select id="character-class" name="classId" required>
            <option value="guardian">Guardian (Tank)</option>
            <option value="fighter" selected>Fighter (Melee DPS)</option>
            <option value="ranger">Ranger (Ranged DPS)</option>
            <option value="priest">Priest (Healer)</option>
            <option value="mage">Mage (Magic DPS)</option>
          </select>
          <div class="menu-actions">
            <button type="button" id="character-create-cancel" class="menu-ghost">Back</button>
            <button type="submit" class="menu-primary">Create</button>
          </div>
        </form>
        <div id="menu-create-error" class="menu-error"></div>
      </div>
    </div>
    <div id="error-overlay" class="error-overlay" role="alert" aria-live="assertive">
      <div class="error-overlay-card">
        <div id="error-overlay-title" class="error-overlay-title"></div>
        <div id="error-overlay-message" class="error-overlay-message"></div>
        <div id="error-overlay-actions" class="error-overlay-actions"></div>
      </div>
    </div>
    <div id="loading-screen" class="loading-screen" aria-live="polite">
      <div class="loading-screen-content">
        <div class="loading-spinner"></div>
        <div class="loading-progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100">
          <div id="loading-progress-fill" class="loading-progress-fill"></div>
        </div>
        <div id="loading-text" class="loading-text">Loading...</div>
      </div>
    </div>
    <div id="overlay" class="player-unit-frame">
      <div class="player-frame-main">
        <div class="player-frame-portrait-wrap">
          <div class="player-frame-portrait" id="overlay-portrait"></div>
          <div class="player-frame-level" id="overlay-level">--</div>
        </div>
        <div class="player-frame-info">
        <div class="player-frame-name" id="overlay-character-name">--</div>
        <div class="player-frame-bar health">
          <div class="player-frame-bar-track">
            <div class="player-frame-bar-fill" id="overlay-hp-fill"></div>
          </div>
          <div class="player-frame-bar-text">
            <span class="player-frame-bar-label">Health</span>
            <span class="player-frame-bar-value" id="overlay-hp-value">--</span>
          </div>
        </div>
        <div class="player-frame-bar resource" id="overlay-resource-bar">
          <div class="player-frame-bar-track">
            <div class="player-frame-bar-fill" id="overlay-stamina-fill"></div>
          </div>
          <div class="player-frame-bar-text">
            <span class="player-frame-bar-label" id="overlay-resource-label">Resource</span>
            <span class="player-frame-bar-value" id="overlay-stamina-value">--</span>
          </div>
        </div>
      </div>
      </div>
      <div id="cast-bar-wrap" class="cast-bar-wrap hidden">
        <div class="cast-bar-track">
          <div id="cast-bar-fill" class="cast-bar-fill"></div>
        </div>
        <div id="cast-bar-name" class="cast-bar-name">--</div>
      </div>
      <div class="player-frame-footer">
        <div class="overlay-status">Status: <span id="status">connecting...</span></div>
        <div class="overlay-controls">
          WASD to move · Click to move · Click target/TAB to cycle enemies · E to interact · I for
          inventory · C for character · K for skills · 1-0 for abilities
        </div>
        <button id="signout-btn" class="overlay-btn">Sign out</button>
      </div>
    </div>
    <div id="target-hud" class="target-hud">
      <div id="target-name" class="target-name">--</div>
      <div id="target-meta" class="target-meta">--</div>
      <div id="target-hp" class="target-hp">
        <div class="target-hp-bar">
          <div id="target-hp-fill" class="target-hp-fill"></div>
        </div>
        <div id="target-hp-value" class="target-hp-value">--</div>
      </div>
    </div>
    <div id="inventory-panel" class="inventory-panel">
      <div class="inventory-header">
        <div class="inventory-title">Inventory</div>
        <div class="inventory-meta">
          <div class="inventory-coins">Coins: <span id="inventory-coins">0g 0s 0c</span></div>
          <div class="inventory-hint">I to close · Drag to equipment to equip</div>
        </div>
        <div class="inventory-tabs">
          <button class="inventory-tab active" data-tab="inventory" type="button">Inventory</button>
          <button class="inventory-tab" data-tab="craft" type="button">Craft</button>
        </div>
      </div>
      <div id="inventory-view" class="inventory-view active">
        <div id="inventory-grid" class="inventory-grid"></div>
      </div>
      <div id="craft-view" class="craft-view">
        <div id="craft-recipe-list" class="craft-recipe-list"></div>
      </div>
    </div>
    <div id="character-sheet-panel" class="character-sheet-panel">
      <div class="character-sheet-header">
        <div class="character-sheet-title" id="character-sheet-name">--</div>
        <button id="character-sheet-close" class="character-sheet-close" type="button" aria-label="Close">×</button>
      </div>
      <div id="sheet-tabs-content" class="sheet-tabs-content">
        <div id="character-view" class="sheet-tab-view">
          <div class="character-header">
            <div class="character-portrait" id="character-portrait"></div>
            <div class="character-info">
              <div class="character-name" id="character-sheet-char-name">--</div>
              <div class="character-meta" id="character-sheet-char-meta">Level 1 --</div>
            </div>
          </div>
          <div class="character-paper-doll">
            <div id="equipment-grid" class="equipment-grid equipment-grid-slot"></div>
            <div class="character-model-placeholder"></div>
          </div>
          <div class="character-stats">
            <div class="stats-section">
              <div class="stats-title">Base Stats</div>
              <div class="stats-row"><span>HP</span><span id="char-stat-hp">--</span></div>
              <div class="stats-row"><span>Resource</span><span id="char-stat-resource">--</span></div>
            </div>
            <div class="stats-section">
              <div class="stats-title">Core Attributes</div>
              <div class="stats-row"><span>STR</span><span id="char-stat-str">--</span></div>
              <div class="stats-row"><span>DEX</span><span id="char-stat-dex">--</span></div>
              <div class="stats-row"><span>INT</span><span id="char-stat-int">--</span></div>
              <div class="stats-row"><span>VIT</span><span id="char-stat-vit">--</span></div>
              <div class="stats-row"><span>SPI</span><span id="char-stat-spi">--</span></div>
            </div>
            <div class="stats-section">
              <div class="stats-title">Derived Stats</div>
              <div class="stats-row"><span>Physical Power</span><span id="char-stat-phys-power">--</span></div>
              <div class="stats-row"><span>Ranged Power</span><span id="char-stat-ranged-power">--</span></div>
              <div class="stats-row"><span>Magic Power</span><span id="char-stat-magic-power">--</span></div>
              <div class="stats-row"><span>Healing Power</span><span id="char-stat-healing-power">--</span></div>
              <div class="stats-row"><span>Crit Chance</span><span id="char-stat-crit">--</span></div>
              <div class="stats-row"><span>Accuracy</span><span id="char-stat-accuracy">--</span></div>
              <div class="stats-row"><span>Evasion</span><span id="char-stat-evasion">--</span></div>
              <div class="stats-row"><span>Physical Def</span><span id="char-stat-phys-def">--</span></div>
              <div class="stats-row"><span>Magic Resist</span><span id="char-stat-magic-resist">--</span></div>
            </div>
            <div class="stats-section">
              <div class="stats-title">Combat</div>
              <div class="stats-row"><span>Level</span><span id="char-stat-level">--</span></div>
              <div class="stats-row"><span>Class</span><span id="char-stat-class">--</span></div>
            </div>
          </div>
        </div>
        <div id="skills-view" class="sheet-tab-view">
          <div class="skills-header">
            <div class="skills-title">Skills</div>
            <div class="skills-meta">
              <div>Class: <span id="skills-class">--</span></div>
              <div>Level: <span id="skills-level">1</span></div>
              <div>XP: <span id="skills-xp">0/0</span></div>
            </div>
          </div>
          <div id="skills-list" class="skills-list"></div>
        </div>
      </div>
      <div id="sheet-bottom-tabs" class="sheet-bottom-tabs">
        <button class="sheet-tab-btn active" data-tab="character" type="button">Character</button>
        <button class="sheet-tab-btn" data-tab="skills" type="button">Skills</button>
      </div>
    </div>
    <div id="vendor-dialog" class="vendor-dialog">
      <div class="vendor-title" id="vendor-dialog-name">General Vendor</div>
      <div class="vendor-actions">
        <button id="vendor-trade-btn" class="vendor-btn">Trade</button>
        <button id="vendor-close-btn" class="vendor-btn ghost">Close</button>
      </div>
    </div>
    <div id="vendor-panel" class="vendor-panel">
      <div class="vendor-header">
        <div class="vendor-title" id="vendor-panel-name">General Vendor</div>
        <div class="vendor-tabs">
          <button class="vendor-tab active" data-tab="buy">Buy</button>
          <button class="vendor-tab" data-tab="sell">Sell</button>
        </div>
      </div>
      <div class="vendor-body">
        <div class="vendor-view vendor-buy active">
          <div id="vendor-buy-items" class="vendor-buy-items"></div>
        </div>
        <div class="vendor-view vendor-sell">
          <div id="vendor-sell-prices" class="vendor-prices"></div>
          <div class="vendor-dropzone">Drop items here to sell.</div>
        </div>
      </div>
      <div class="vendor-footer">Drag items from your inventory to sell.</div>
      <button id="vendor-panel-close" class="vendor-btn ghost">Close</button>
    </div>
    <div id="prompt">Press E to harvest</div>
    <div id="event"></div>
    <div id="damage-flash"></div>
    <div id="death-screen" class="death-screen">
      <div class="death-card">
        <div class="death-title">You died</div>
        <div class="death-subtitle">Respawn at base</div>
        <div id="death-timer" class="death-timer">05:00</div>
        <button id="death-respawn-btn" class="menu-primary death-respawn-btn" type="button">
          Respawn at base
        </button>
      </div>
    </div>
    <div id="ability-bar" class="ability-bar"></div>
    <div id="xp-bar" class="xp-bar" role="progressbar" tabindex="0" aria-valuemin="0">
      <div id="xp-bar-fill" class="xp-bar-fill"></div>
      <div id="xp-bar-tooltip" class="xp-bar-tooltip" role="tooltip">
        <div id="xp-bar-value">--</div>
        <div id="xp-bar-percent">--</div>
      </div>
    </div>
    <div id="top-right-panel">
      <div id="minimap-container">
        <canvas id="minimap"></canvas>
      </div>
      <div id="hud">
        <div>FPS: <span id="fps">0</span></div>
        <div>X/Z: <span id="coords">0.0, 0.0</span></div>
      </div>
    </div>
    <div id="party-panel" class="party-panel hidden">
      <div class="party-status">In party</div>
      <button id="party-leave-btn" class="party-btn" type="button">Leave Party</button>
      <button id="party-invite-btn" class="party-btn" type="button" style="display: none">Invite to Party</button>
      <div id="party-invite-toast" class="party-invite-toast hidden">
        <span id="party-invite-text"></span>
        <button id="party-accept-btn" class="party-btn small" type="button">Accept</button>
        <button id="party-decline-btn" class="party-btn ghost small" type="button">Decline</button>
      </div>
    </div>
    <div id="chat-panel" class="chat-panel">
      <div class="chat-tabs">
        <button class="chat-tab active" data-channel="general" type="button">General</button>
        <button class="chat-tab" data-channel="area" type="button">Area</button>
        <button class="chat-tab" data-channel="global" type="button">Global</button>
        <button class="chat-tab" data-channel="combat" type="button">Combat</button>
        <button class="chat-tab" data-channel="trade" type="button">Trade</button>
        <button class="chat-tab" data-channel="party" type="button">Party</button>
      </div>
      <div id="chat-messages" class="chat-messages"></div>
      <div class="chat-input-wrap">
        <input id="chat-input" type="text" placeholder="Type a message..." maxlength="200" />
      </div>
    </div>
    <script type="module" src="./client.js"></script>
  </body>
</html>
